<div class="dashboard">
  <div class="actions dropdown">
    <button class="btn btn-link dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      <fa-icon icon="bars"></fa-icon>
    </button>
    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
      <button id="file-selector" class="dropdown-item" (click)="selectFile()">
          <fa-icon icon="upload"></fa-icon> Uplaod a Dashboard</button>
      <div class="dropdown-divider"></div>
      <button id="theme-toggler" class="dropdown-item" (click)="toggleTheme()">
          <fa-icon icon="moon"></fa-icon> Change Theme</button>
    </div>
  </div>

  <div *ngIf="!displayMessage && config">
    <h1 class="display-4 text-center">{{ config.title }}</h1>
    <p class="text-muted text-center">{{ config.description }}</p>

    <div class="row">
      <app-column class="col-12 col-sm-6 col-lg-4 col-xl-3" *ngFor="let columnConfig of config.columnConfigs" [config]="columnConfig"></app-column>
    </div>
  </div>

  <div *ngIf="displayMessage" class="jumbotron alert" [class.alert-danger]="displayMessage.severity === 'error'" [class.alert-info]="displayMessage.severity === 'info'">
    <div class="container">
      <h1 class="display-4">{{ displayMessage.title }}</h1>
      <p class="lead">{{ displayMessage.message }}</p>

      <hr class="my-4">
      <p *ngIf="displayMessage.detail">{{ displayMessage.detail }}</p>

      <pre *ngIf="displayMessage.debug"><code>{{ displayMessage.debug }}</code></pre>
    </div>
    <!-- <a href="/" class="btn btn-link btn-lg">
      <span>
        <fa-icon icon="hand-point-left"></fa-icon> Back to the default dashboad</span>
    </a> -->
  </div>

  <input id="upload" type="file" accept=".json,.yml,.yaml" (change)="configFileChange($event)" />
</div>
